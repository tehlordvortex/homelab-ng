cgroup:
  autoMount:
    enabled: false
  hostRoot: /sys/fs/cgroup

cluster:
  name: sophons

resources:
  requests:
    cpu: 100m
    memory: 128Mi
  limits:
    cpu: 750m
    memory: 256Mi

cni:
  customConf: false
  uninstall: false

gatewayAPI:
  enableAlpn: true
  enableAppProtocol: true
  enabled: true

ipv6:
  enabled: true
ipam:
  mode: kubernetes
ipv4NativeRoutingCIDR: 10.41.0.0/16
ipv6NativeRoutingCIDR: 2001:cafe:41::/56

k8sServiceHost: localhost
k8sServicePort: 7445

routingMode: tunnel
tunnelProtocol: geneve
bpf:
  masquerade: true
  hostLegacyRouting: true
  lbModeAnnotation: true
kubeProxyReplacement: true
loadBalancer:
  # mode: dsr
  dsrDispatch: geneve

hubble:
  ui:
    enabled: true
  relay:
    enabled: true

operator:
  replicas: 3
  unmanagedPodWatcher:
    restart: true

policyEnforcementMode: default
securityContext:
  capabilities:
    ciliumAgent:
      - CHOWN
      - KILL
      - NET_ADMIN
      - NET_RAW
      - IPC_LOCK
      - SYS_ADMIN
      - SYS_RESOURCE
      - DAC_OVERRIDE
      - FOWNER
      - SETGID
      - SETUID
    cleanCiliumState:
      - NET_ADMIN
      - SYS_ADMIN
      - SYS_RESOURCE

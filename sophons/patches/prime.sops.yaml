cluster:
  network:
    cni:
      name: none
machine:
  install:
    disk: /dev/mmcblk0
    extraKernelArgs:
      - cma=256M
  sysctls:
    # 64MiB
    vm.min_free_kbytes: 65536
    vm.swappiness: 200
    vm.watermark_scale_factor: 100
  kubelet:
    nodeIP:
      validSubnets:
        - 10.42.0.0/16
        # enc!
        - ENC[AES256_GCM,data:lPH9gIp+wh9hozhQtI46K+BPzTc8gmA=,iv:kQ6osAHbb2+dfhmpYE697Sd+1A1GOluMQK7uBr6NlXc=,tag:fQ/UazydFLDEljU1q1BYRg==,type:str]
    extraMounts:
      - destination: /var/lib/longhorn
        type: bind
        source: /var/lib/longhorn
        options:
          - bind
          - rshared
          - rw
    extraConfig:
      mergeDefaultEvictionSettings: true
      evictionSoft:
        memory.available: 128Mi
      evictionSoftGracePeriod:
        memory.available: 30s
      evictionHard:
        memory.available: 64Mi
  nodeLabels:
    topology.kubernetes.io/region: ng
    topology.kubernetes.io/zone: ng-east-1
    hugeloads.sophons.cloud/postgres: "false"
  network:
    hostname: sophons-prime
    interfaces:
      - interface: end0
        dhcp: false
        vlans:
          - vlanId: 42
            dhcp: false
            addresses:
              - 10.42.42.2/16
              # enc!
              - ENC[AES256_GCM,data:IL4e59vfcKhFksQw0F0/J3BBbk/p27J6DVfY,iv:RpGSWGbju0x3pvmxXPYyyvFoTwe/Vzg9RaCy8inP2b4=,tag:ubTsaEe2BAyMNYILzr2+bQ==,type:str]
            routes:
              - network: 0.0.0.0/0
                gateway: 10.42.0.1
              - network: ::/0
                gateway: fe80::9c05:d6ff:fe69:64b7
                metric: 200
sops:
  age:
    - recipient: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAII7yyj/sVuDdc6kGEeipVtC0EBaeACTFWHZ9MH77XsFq vrtx@kaos
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IHNzaC1lZDI1NTE5IDNEQlRBdyBvNXZa
        dU1Kd3JCMlJjMXRsYnV0RXNXU2xtV3U3ZU8xaFZONWRVcEFrOTNvCm11QnY1bGlo
        MmdZOUdkc2hraS8vT0RINFkvZVM4MDh5cXVmR3I3d0dsUzQKLS0tIHVVb1J4ckp5
        dStGbmo3eTVZbUZqaEowM2t3LzYzNWJXOEtjb2o1eGxZd1EK9pK5bAiNUobJvToJ
        RpnpI1/G4OgnyyX8ZhAV+raxDv/EZtUEnUxm58J7JNiXWudjW01erhUkyX8EGIwg
        PZPUDw==
        -----END AGE ENCRYPTED FILE-----
    - recipient: age1kum4z0unkunza7kxt4ma7v8k38ggvtjhx6wntnjt8clt6xpyu3eqsw435t
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBDYzdhZnA5NTNOYkV4M3Q0
        a2JERjB5RUJnN0lwQkRyaXV2Wk9oNjdQQnhJCjcraHRkK1dNS3h4cWFjb0dFd0Ri
        VlJiU295Q2ZIclFEaHFTY2hJb1UzV2MKLS0tIDJnbTFFT1k5VVZwUkZHalVEWC9F
        cDhjclV5WGdKbENjdFRwT3JPSmlLVnMKRfaI9epu9Vh+3H1QgXzGhMBQXZD8LFpv
        J+iNfaKa9QlOX2bhf2ZuGl/Mfi89w0AVdY+Bwx4UECTpHSDyEvwP1Q==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-11-13T02:38:47Z"
  mac: ENC[AES256_GCM,data:PjsqigfD+FnPEluAK0U9k8XhSXA5BfuLNVBfu8Ed01Nf2wi+4eL1SPJyKQGYQ1aOisgVo6IaPRnRF/QWrRs0QMT7G+uMPa/CDRyfc+lX9oAqj46iKUowYMIBF9RXHnhXa1+jo2S/IDVXjcm6ZezMmG9xcgXUemZqgwRhYz5Pwf8=,iv:w3Awp8tNGTbKhCTpvkCiCWa1mWo89yMNbVpPgOJl9qM=,tag:g/yU8bA79uSjpdlXZKoReA==,type:str]
  encrypted_comment_regex: enc!
  version: 3.11.0
---
apiVersion: v1alpha1
kind: VolumeConfig
name: EPHEMERAL
provisioning:
  maxSize: 100GiB
  grow: false
sops:
  age:
    - recipient: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAII7yyj/sVuDdc6kGEeipVtC0EBaeACTFWHZ9MH77XsFq vrtx@kaos
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IHNzaC1lZDI1NTE5IDNEQlRBdyBvNXZa
        dU1Kd3JCMlJjMXRsYnV0RXNXU2xtV3U3ZU8xaFZONWRVcEFrOTNvCm11QnY1bGlo
        MmdZOUdkc2hraS8vT0RINFkvZVM4MDh5cXVmR3I3d0dsUzQKLS0tIHVVb1J4ckp5
        dStGbmo3eTVZbUZqaEowM2t3LzYzNWJXOEtjb2o1eGxZd1EK9pK5bAiNUobJvToJ
        RpnpI1/G4OgnyyX8ZhAV+raxDv/EZtUEnUxm58J7JNiXWudjW01erhUkyX8EGIwg
        PZPUDw==
        -----END AGE ENCRYPTED FILE-----
    - recipient: age1kum4z0unkunza7kxt4ma7v8k38ggvtjhx6wntnjt8clt6xpyu3eqsw435t
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBDYzdhZnA5NTNOYkV4M3Q0
        a2JERjB5RUJnN0lwQkRyaXV2Wk9oNjdQQnhJCjcraHRkK1dNS3h4cWFjb0dFd0Ri
        VlJiU295Q2ZIclFEaHFTY2hJb1UzV2MKLS0tIDJnbTFFT1k5VVZwUkZHalVEWC9F
        cDhjclV5WGdKbENjdFRwT3JPSmlLVnMKRfaI9epu9Vh+3H1QgXzGhMBQXZD8LFpv
        J+iNfaKa9QlOX2bhf2ZuGl/Mfi89w0AVdY+Bwx4UECTpHSDyEvwP1Q==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-11-13T02:38:47Z"
  mac: ENC[AES256_GCM,data:PjsqigfD+FnPEluAK0U9k8XhSXA5BfuLNVBfu8Ed01Nf2wi+4eL1SPJyKQGYQ1aOisgVo6IaPRnRF/QWrRs0QMT7G+uMPa/CDRyfc+lX9oAqj46iKUowYMIBF9RXHnhXa1+jo2S/IDVXjcm6ZezMmG9xcgXUemZqgwRhYz5Pwf8=,iv:w3Awp8tNGTbKhCTpvkCiCWa1mWo89yMNbVpPgOJl9qM=,tag:g/yU8bA79uSjpdlXZKoReA==,type:str]
  encrypted_comment_regex: enc!
  version: 3.11.0
---
apiVersion: v1alpha1
kind: SwapVolumeConfig
name: swap-1GiB
provisioning:
  diskSelector:
    match: system_disk
  minSize: 1GiB
  maxSize: 1GiB
  grow: false
sops:
  age:
    - recipient: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAII7yyj/sVuDdc6kGEeipVtC0EBaeACTFWHZ9MH77XsFq vrtx@kaos
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IHNzaC1lZDI1NTE5IDNEQlRBdyBvNXZa
        dU1Kd3JCMlJjMXRsYnV0RXNXU2xtV3U3ZU8xaFZONWRVcEFrOTNvCm11QnY1bGlo
        MmdZOUdkc2hraS8vT0RINFkvZVM4MDh5cXVmR3I3d0dsUzQKLS0tIHVVb1J4ckp5
        dStGbmo3eTVZbUZqaEowM2t3LzYzNWJXOEtjb2o1eGxZd1EK9pK5bAiNUobJvToJ
        RpnpI1/G4OgnyyX8ZhAV+raxDv/EZtUEnUxm58J7JNiXWudjW01erhUkyX8EGIwg
        PZPUDw==
        -----END AGE ENCRYPTED FILE-----
    - recipient: age1kum4z0unkunza7kxt4ma7v8k38ggvtjhx6wntnjt8clt6xpyu3eqsw435t
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBDYzdhZnA5NTNOYkV4M3Q0
        a2JERjB5RUJnN0lwQkRyaXV2Wk9oNjdQQnhJCjcraHRkK1dNS3h4cWFjb0dFd0Ri
        VlJiU295Q2ZIclFEaHFTY2hJb1UzV2MKLS0tIDJnbTFFT1k5VVZwUkZHalVEWC9F
        cDhjclV5WGdKbENjdFRwT3JPSmlLVnMKRfaI9epu9Vh+3H1QgXzGhMBQXZD8LFpv
        J+iNfaKa9QlOX2bhf2ZuGl/Mfi89w0AVdY+Bwx4UECTpHSDyEvwP1Q==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-11-13T02:38:47Z"
  mac: ENC[AES256_GCM,data:PjsqigfD+FnPEluAK0U9k8XhSXA5BfuLNVBfu8Ed01Nf2wi+4eL1SPJyKQGYQ1aOisgVo6IaPRnRF/QWrRs0QMT7G+uMPa/CDRyfc+lX9oAqj46iKUowYMIBF9RXHnhXa1+jo2S/IDVXjcm6ZezMmG9xcgXUemZqgwRhYz5Pwf8=,iv:w3Awp8tNGTbKhCTpvkCiCWa1mWo89yMNbVpPgOJl9qM=,tag:g/yU8bA79uSjpdlXZKoReA==,type:str]
  encrypted_comment_regex: enc!
  version: 3.11.0
---
apiVersion: v1alpha1
kind: ZswapConfig
# The maximum percent of memory that zswap can use.
maxPoolPercent: 69
# Enable the shrinker feature: kernel might move
shrinkerEnabled: true
sops:
  age:
    - recipient: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAII7yyj/sVuDdc6kGEeipVtC0EBaeACTFWHZ9MH77XsFq vrtx@kaos
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IHNzaC1lZDI1NTE5IDNEQlRBdyBvNXZa
        dU1Kd3JCMlJjMXRsYnV0RXNXU2xtV3U3ZU8xaFZONWRVcEFrOTNvCm11QnY1bGlo
        MmdZOUdkc2hraS8vT0RINFkvZVM4MDh5cXVmR3I3d0dsUzQKLS0tIHVVb1J4ckp5
        dStGbmo3eTVZbUZqaEowM2t3LzYzNWJXOEtjb2o1eGxZd1EK9pK5bAiNUobJvToJ
        RpnpI1/G4OgnyyX8ZhAV+raxDv/EZtUEnUxm58J7JNiXWudjW01erhUkyX8EGIwg
        PZPUDw==
        -----END AGE ENCRYPTED FILE-----
    - recipient: age1kum4z0unkunza7kxt4ma7v8k38ggvtjhx6wntnjt8clt6xpyu3eqsw435t
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBDYzdhZnA5NTNOYkV4M3Q0
        a2JERjB5RUJnN0lwQkRyaXV2Wk9oNjdQQnhJCjcraHRkK1dNS3h4cWFjb0dFd0Ri
        VlJiU295Q2ZIclFEaHFTY2hJb1UzV2MKLS0tIDJnbTFFT1k5VVZwUkZHalVEWC9F
        cDhjclV5WGdKbENjdFRwT3JPSmlLVnMKRfaI9epu9Vh+3H1QgXzGhMBQXZD8LFpv
        J+iNfaKa9QlOX2bhf2ZuGl/Mfi89w0AVdY+Bwx4UECTpHSDyEvwP1Q==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-11-13T02:38:47Z"
  mac: ENC[AES256_GCM,data:PjsqigfD+FnPEluAK0U9k8XhSXA5BfuLNVBfu8Ed01Nf2wi+4eL1SPJyKQGYQ1aOisgVo6IaPRnRF/QWrRs0QMT7G+uMPa/CDRyfc+lX9oAqj46iKUowYMIBF9RXHnhXa1+jo2S/IDVXjcm6ZezMmG9xcgXUemZqgwRhYz5Pwf8=,iv:w3Awp8tNGTbKhCTpvkCiCWa1mWo89yMNbVpPgOJl9qM=,tag:g/yU8bA79uSjpdlXZKoReA==,type:str]
  encrypted_comment_regex: enc!
  version: 3.11.0
